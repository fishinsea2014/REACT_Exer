<!DOCTYPE html>
<html>
  <head>
    <title>React Exer</title>
    <meta charset="UTF-8" />
    <script  src="js_module/react.development.js"></script>
    <script  src="js_module/react-dom.development.js"></script>
    <script  src="js_module/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
        class NameForm extends React.Component {
            constructor(props){
                super(props);
                this.state = {
                    value: '',
                    display:''};
                this.handleSubmit = this.handleSubmit.bind(this);
                this.handleChange = this.handleChange.bind(this);
            }

            handleChange(event){
                this.setState({value: event.target.value.toUpperCase()});
            }
            
            handleSubmit(event){
                debuger;
                alert('Name was sbummited:'+ this.state.value);
                // this.setState({
                //     display: value,
                // })
                
                event.preventDefault();
                //debugger;
            }


            render(){
                return (
                    <div>
                    <form onSubmit={this.handleSubmit}>
                        <label >
                            Name: 
                            <input type="text" value={this.state.value} onChange={this.handleChange} />
                            <input type="submit" value='Submit' />
                        </label>
                                               
                    </form>
                    <div>
                            <textarea value={this.state.display}></textarea>
                        </div> 
                    </div>
                )
            }
        }
        class TextForm extends React.Component {
            constructor(props) {
                super(props);
                this.state = {
                value: 'Please write an essay ',
                dispaly: 'hello'
                };

                this.handleChange = this.handleChange.bind(this);
                this.handleSubmit = this.handleSubmit.bind(this);
            }

            handleChange(event) {
                this.setState({value: event.target.value});
            }

            handleSubmit(event) {
                alert('An essay was submitted: ' + this.state.value);
                this.setState({display: event.target.value});
                event.preventDefault();
            }

            render() {
                return (
                <div>
                <form onSubmit={this.handleSubmit}>
                    <label>
                    Name:
                    <textarea value={this.state.value} onChange={this.handleChange} />
                    </label>
                    <input type="submit" value="Submit" />
                </form>
                    <textarea value={this.state.dispaly} onChange={this.handleChange}></textarea>
                </div>
                );
            }
        }

        class FlavorForm extends React.Component {
            constructor(props) {
                super(props);
                this.state = {value: 'coconut'};

                this.handleChange = this.handleChange.bind(this);
                this.handleSubmit = this.handleSubmit.bind(this);
            }

            handleChange(event) {
                this.setState({value: event.target.value});
            }

            handleSubmit(event) {
                alert('Your favorite flavor is: ' + this.state.value);
                event.preventDefault();
            }

            render(){
                return(
                    <form onSubmit={this.handleSubmit}>
                        <label >
                            Pick a flavor:
                            <select value={this.state.value} onChange={this.handleChange} >
                                <option value="grapefruit">grapefruit</option>
                                <option value="lime">Lime</option>
                                <option value="coconut">Coconut</option>
                                <option value="mango">Mango</option>
                            </select>
                        </label>
                        <input type="submit" value="Submit" />
                    </form>
                )
            }
        }
        
        //Multiple inputs
        class Reservation extends React.Component{
            constructor(props) {
                super(props);
                this.state = {
                isGoing: true,
                numberOfGuests: 2
                };

                this.handleInputChange = this.handleInputChange.bind(this);
            }

            //Handle input change of 'input' and 'checkbox'
            handleInputChange(event) {
                const target = event.target;
                const value = target.type === 'checkbox' ? target.checked : target.value;
                const name =  target.name;
                this.setState({
                    [name]:value, //[name] could be isGoing or numberOfGuests
                })     
            }

            render(){
                return (
                    <div>
                        <form >
                        Is Going: 
                        <input 
                            type="checkbox" 
                            name='isGoing'
                            checked={this.state.isGoing}
                            onChange={this.handleInputChange} />
                        <div>Number of guests:
                            <input 
                            type="number" 
                            name='numberOfGuests'
                            value={this.state.numberOfGuests}
                            onChange={this.handleInputChange} />
                            
                        </div>
                        </form>
                    </div>
                    
                )
            }
        }


        ReactDOM.render(
            <div>
                <h3>===Controled Component===</h3>  
                <NameForm></NameForm>
                <h3>======Textarea==============</h3>
                <TextForm></TextForm>
                <h3>===Select tag===</h3>
                <FlavorForm></FlavorForm>
                <h3>===Multiple Inputs===</h3>
                <Reservation></Reservation>


            </div>,
            document.getElementById('root')
        )
    </script>
</body>